<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Kent's Workshop Feedback Forwarder</title>
    <script>
      var workshop = getQueryStringParam(location.href, 'ws') || ''
      var exercise = getQueryStringParam(location.href, 'e') || ''
      var email = getQueryStringParam(location.href, 'em') || ''
      var urlToRedirectTo = `https://docs.google.com/forms/d/e/1FAIpQLSf3o9xyjQepTlOTH5Z7ZwkeSTdXh6YWI_RGc9KiyD3oUN0p6w/viewform?entry.1836176234=${encodeURIComponent(workshop)}&entry.428900931=${encodeURIComponent(exercise)}&entry.1058834470=${encodeURIComponent(email)}`
      window.location.replace(urlToRedirectTo)
      function getQueryStringParam(url, name) {
        var regexReadyName = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]')
        var regex = new RegExp(`[\\?&]${regexReadyName}=([^&#]*)`)
        var results = regex.exec(url)
        return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '))
      }
    </script>
  </head>
  <body>
    You are being redirected... Hopefully... If not, pop open your console and see if you can figure out what the problem is!
  </body>
</html>
